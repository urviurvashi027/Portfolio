!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms")):"function"==typeof define&&define.amd?define("ngx-ckeditor",["exports","@angular/core","@angular/forms"],e):e(t["ngx-ckeditor"]={},t.ng.core,t.ng.forms)}(this,function(t,e,n){"use strict";var i={contentsCss:[""],customConfig:""},o=function(){function t(n,i){this.ngZone=n,this.hostEl=i,this.innerValue="",this.disabled=!1,this.editorInitialized=!1,this.readonly=!1,this.config={},this.skin="moono-lisa",this.language="en",this.fullPage=!1,this.inline=!1,this.change=new e.EventEmitter,this.ready=new e.EventEmitter,this.blur=new e.EventEmitter,this.focus=new e.EventEmitter,this.onChange=function(t){},this.onTouched=function(){},this.identifier=t.getRandomIdentifier(this.id)}return t.getRandomIdentifier=function(e){return void 0===e&&(e=""),"editor-"+(""!==e?e:String(t.idx++))},Object.defineProperty(t.prototype,"instance",{get:function(){return this.ckIns},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){this.editorInitialized&&(this.destroyEditor(),this.initEditor(this.identifier))},t.prototype.ngAfterViewChecked=function(){!this.editorInitialized&&this.documentContains(this.textareaRef.nativeElement)?(this.editorInitialized=!0,this.initEditor(this.identifier)):this.editorInitialized&&!this.documentContains(this.textareaRef.nativeElement)&&(this.editorInitialized=!1,this.destroyEditor())},t.prototype.ngOnDestroy=function(){this.destroyEditor()},t.prototype.initEditor=function(t){var e=this;if("undefined"==typeof CKEDITOR)return console.warn("CKEditor 4.x is missing (http://ckeditor.com/)");var n=this.textareaRef.nativeElement;if(this.identifier=t,n.setAttribute("name",this.identifier),!this.ckIns&&this.documentContains(this.textareaRef.nativeElement)){var o=Object.assign({},i,this.config,{readOnly:this.readonly,skin:this.skin,language:this.language,fullPage:this.fullPage,inline:this.inline});this.ckIns=this.inline?CKEDITOR.inline(n,o):CKEDITOR.replace(n,o),this.ckIns.setData(this.innerValue),this.ckIns.on("change",function(){var t=e.ckIns.getData();e.updateValue(t)}),this.ckIns.on("instanceReady",function(t){e.ngZone.run(function(){e.ready.emit(t)})}),this.ckIns.on("blur",function(t){e.ngZone.run(function(){e.blur.emit(t),e.onTouched()})}),this.ckIns.on("focus",function(t){e.ngZone.run(function(){e.focus.emit(t)})})}},t.prototype.destroyEditor=function(){if(this.ckIns){CKEDITOR.instances.hasOwnProperty(this.ckIns.name)&&CKEDITOR.remove(CKEDITOR.instances[this.ckIns.name]),this.ckIns=null;var t=this.hostEl.nativeElement.querySelector("#cke_"+this.identifier);null!=t&&t.parentElement&&t.parentElement.removeChild(t)}},t.prototype.updateValue=function(t){var e=this;this.ngZone.run(function(){e.innerValue=t,e.onChange(t),e.onTouched(),e.change.emit(t)})},t.prototype.documentContains=function(t){return document.contains?document.contains(t):document.body.contains(t)},t.prototype.writeValue=function(t){if(this.innerValue=t||"",this.ckIns){this.ckIns.setData(this.innerValue);var e=this.ckIns.getData();this.ckIns.setData(e)}},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.idx=1,t.decorators=[{type:e.Component,args:[{selector:"ck-editor",template:"\n    <textarea #textarea></textarea>\n  ",providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return t}),multi:!0}],exportAs:"ckEditor"}]}],t.ctorParameters=function(){return[{type:e.NgZone},{type:e.ElementRef}]},t.propDecorators={readonly:[{type:e.Input}],config:[{type:e.Input}],skin:[{type:e.Input}],language:[{type:e.Input}],fullPage:[{type:e.Input}],inline:[{type:e.Input}],id:[{type:e.Input}],change:[{type:e.Output}],ready:[{type:e.Output}],blur:[{type:e.Output}],focus:[{type:e.Output}],textareaRef:[{type:e.ViewChild,args:["textarea"]}]},t}(),r=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[],exports:[n.FormsModule,o],declarations:[o],providers:[]}]}],t}();t.CKEditorComponent=o,t.CKEditorModule=r,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-ckeditor.umd.min.js.map